---
title: "Web ã®ä»•æ§˜ã‚’çœºã‚ã‚‹ã‚·ãƒªãƒ¼ã‚º Media Queries Level 5 nav-controls | Offers Tech Blog"
emoji: "â—€"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["navcontrols", "MediaQueries", "CSS", "Webä»•æ§˜çœºã‚ğŸ‘€"]
publication_name: "overflow_offers"
published: true
published_at: 2023-02-24 09:00
---

[Offers](https://offers.jp/) ã‚’é‹å–¶ã—ã¦ã„ã‚‹æ ªå¼ä¼šç¤¾ [overflow](https://overflow.co.jp/) ã® [ã‚ã»ã‚€](https://twitter.com/ahomu) ã§ã”ã–ã„ã¾ã™ã€‚

æœ¬è¨˜äº‹ã¯ [Chrome Platform Status](https://chromestatus.com/features#browsers.chrome.status%3A%22Proposed%22) ã‹ã‚‰ãªã‚“ã¨ãªã Proposed ãªã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã®ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ã‚’å–ã‚Šä¸Šã’ã¦ã€ãã®ãƒ—ãƒ­ãƒãƒ¼ã‚¶ãƒ«ã‚’çœºã‚ã¦ã¿ã‚‹ã‚·ãƒªãƒ¼ã‚ºã§ã™ã€‚å‰å›ã¯ [Scroll Timeline for Web Animations](https://zenn.dev/offers/articles/20230209-scroll-timeline-for-web-animatinos) ã§ã—ãŸã€‚

# Media Queries Level 5 `nav-controls`

:::message
å–ã‚Šä¸Šã’ã‚‹ã€ŒWeb ã®ä»•æ§˜ã€ã¯ Web ãƒ–ãƒ©ã‚¦ã‚¶ãƒ™ãƒ³ãƒ€ãƒ¼ã‚„ WebDev ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã«ãŠã„ã¦å¿…ãšã—ã‚‚ååˆ†ãªã‚³ãƒ³ã‚»ãƒ³ã‚µã‚¹ãŒã¨ã‚‰ã‚ŒãŸæ¨™æº–ä»•æ§˜ã¨ã¯é™ã‚‰ãšã€å„ Web ãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒ™ãƒ³ãƒ€ãƒ¼ãŒç¾åœ¨ã‹ã‚‰å°†æ¥ã«æ¸¡ã£ã¦ ship ã™ã‚‹ã“ã¨ã‚’åŸ·ç­†æ™‚ç‚¹ã«ãŠã„ã¦ä¸€åˆ‡ä¿è¨¼ã—ã¾ã›ã‚“ :)
:::

ä»Šå›ã¯ [Navigation-controls media query](https://chromestatus.com/feature/5717537549451264) ã‚’çœºã‚ã¦ã¿ã¾ã™ã€‚æœ¬å½“ã«çœºã‚ã‚‹ã ã‘ã§æ·±å…¥ã‚Šã—ãªã„ã®ã§æ¦‚è¦ã®ã¿ã®ãƒ©ã‚¤ãƒˆãªè¨˜äº‹ã¨ã”èªè­˜ãã ã•ã„ã€‚

https://drafts.csswg.org/mediaqueries-5/#nav-controls

## äºŒé‡ã®ã€Œæˆ»ã‚‹ã€ãƒœã‚¿ãƒ³å•é¡Œ

ã“ã®ä»•æ§˜ã«ã¤ã„ã¦ã®è­°è«–ã¯é¡ã‚‹ã¨ 2018 å¹´é ƒã«å§‹ã¾ã£ã¦ã„ã¾ã™ã€‚å½“æ™‚ã® PWA æ–‡è„ˆã«ãŠã„ã¦å®Ÿè¡Œç’°å¢ƒã¨ãªã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒã€Œæˆ»ã‚‹ã€ãƒœã‚¿ãƒ³ã‚’æä¾›ã—ã¦ã„ã‚‹ã‹åˆ¤åˆ¥ã§ããšã€å¸¸ã«è‡ªå‰ã®ã€Œæˆ»ã‚‹ã€ãƒœã‚¿ãƒ³ã‚’æä¾›ã—ãªã‘ã‚Œã°ãªã‚‰ãªã„ç‚¹ãŒèª²é¡Œæèµ·ã•ã‚Œã¦ã„ã¾ã™ã€‚

https://github.com/w3c/manifest/issues/693

ã‚‚ã¡ã‚ã‚“ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒã€Œæˆ»ã‚‹ã€ãƒœã‚¿ãƒ³ã‚’æä¾›ã—ã¦ã„ã‚‹ã“ã¨ã‚‚ã‚ã‚‹ã®ã§ã€ãã“ã§äºŒé‡ã«ã€Œæˆ»ã‚‹ã€ãƒœã‚¿ãƒ³ãŒæä¾›ã•ã‚Œã¦ã—ã¾ã†ã“ã¨ãŒæŒ‡æ‘˜ã•ã‚Œã¦ã„ã¾ã™ã€‚

å®Ÿéš›ã«ä»•æ§˜ã«è½ã¨ã—è¾¼ã¾ã‚ŒãŸéš›ã®ã‚„ã‚Šå–ã‚Šã¯ã“ã®ã‚ãŸã‚Šã§ã—ã‚‡ã†ã‹ã€‚

https://github.com/w3c/csswg-drafts/issues/4187

## UA ãŒæä¾›ã™ã‚‹ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã®æœ‰ç„¡ã‚’åˆ¤å®š

å•é¡Œã®è§£æ±ºã¯å˜ç´”ã§ã€Media Queries ã®ä»•æ§˜ã«æ˜ã‚‰ã‹ã«ç™ºè¦‹å¯èƒ½ãªãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ³ãƒˆãƒ¼ãƒ«ã®æœ‰ç„¡ã‚’åˆ¤å®šã™ã‚‹æ©Ÿèƒ½ãŒåŠ ã‚ã‚Šã¾ã—ãŸã€‚

æ˜ã‚‰ã‹ã«ç™ºè¦‹å¯èƒ½ (*obviously discoverable*) ã¨ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’åˆ©ç”¨ã™ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã¨ã£ã¦èªè­˜ãƒ»è­˜åˆ¥ã§ãã‚‹ã“ã¨ãŒå½“ç„¶ã§ã‚ã‚‹ã¨æœŸå¾…ã•ã‚Œã‚‹ã“ã¨ã‚’æŒ‡ã—ã¾ã™ã€‚
ä¸€èˆ¬çš„ã«ã¯è¦–è¦šçš„ã«è¡¨ç¾ã•ã‚ŒãŸã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã‚’æƒ³å®šã—ã¾ã™ãŒã€è´è¦šã‚„è§¦è¦šã‚’é€šã—ãŸã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’é€šã—ãŸå ´åˆã¯ç•°ãªã£ãŸæ„å‘³åˆã„ã«ãªã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

ã„ã¾ã®æ™‚ç‚¹ã§ã¯ã€Œæˆ»ã‚‹ã€ãƒœã‚¿ãƒ³ã®ã¿ãŒæƒ³å®šã•ã‚Œã¦ã„ã¾ã™ãŒã€å°†æ¥çš„ã«ã¯ä»–ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã®æœ‰ç„¡ã‚‚åˆ¤å®šã§ãã‚‹ã‚ˆã†ãªæ‹¡å¼µæ€§ã‚’å‚™ãˆã¦ã„ã¾ã™ã€‚ï¼ˆå¾Œè¿°ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ï¼‰

# æœ¬ç¨¿åŸ·ç­†æ™‚ç‚¹ã§ææ¡ˆã•ã‚Œã¦ã„ã‚‹ API

ä»¥ä¸‹ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ [7.4. Detecting UA-supplied navigation controls: the nav-controls feature](https://drafts.csswg.org/mediaqueries-5/#nav-controls) ã‚’å…ƒã«ã—ãŸå¼•ç”¨ï¼ˆä¸€éƒ¨æ”¹å¤‰ï¼‰ã§ã™ã€‚

```css
@media (nav-controls: back) {
  #back-button {
    display: none;
  }
}
```

`nav-controls: back` ãŒãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒã€Œæˆ»ã‚‹ã€ãƒœã‚¿ãƒ³ã‚’æä¾›ã—ã¦ã„ã‚‹çŠ¶æ…‹ã®åˆ¤å®šã§ã™ã€‚ã“ã®ã¨ãã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯è‡ªå‰ã® `#back-button` ã‚’ `display:none` ã—ã¦ã„ã¾ã™ã€‚

ç¾çŠ¶ã¯ã€Œæˆ»ã‚‹ã€ãƒœã‚¿ãƒ³ã—ã‹ãªã„ã®ã§æ¬¡ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚‚ã€`nav-controls: back` ã¨åŒã˜ã‚ˆã†ã«å‹•ãã¨æ›¸ã„ã¦ã‚ã‚Šã¾ã™ãŒè³¢æ˜ãªè«¸æ°ãªã‚‰ãŠåˆ†ã‹ã‚Šã®ã¨ãŠã‚Šå°†æ¥ã®æ‹¡å¼µå¯èƒ½æ€§ã‚’è€ƒãˆã‚‹ã¨å³å¯†ã«ç­‰ä¾¡ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

```css
@media (nav-controls) {
  #back-button {
    display: none;
  }
}
```

ã¨è¨€ã„ã¤ã¤ã‚‚

>However, given that navigation back is arguably the most fundamental navigation operation, the CSS Working Group does not anticipate user interfaces with explicit navigation controls but no back button, so this problem is not expected to occur in practice.

ã€Œæˆ»ã‚‹ã€ãƒœã‚¿ãƒ³ãŒä¸åœ¨ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã¯å®Ÿè³ªå­˜åœ¨ã—ãˆãªã„ã ã‚ã†ã‹ã‚‰ã¾ãå¤§ä¸ˆå¤«ã£ã—ã‚‡ã€ã¨ã„ã†ã‚³ãƒ¡ãƒ³ãƒˆã‚‚æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚

# ã¾ã¨ã‚

ç°¡å˜ã§ã™ãŒ Media Queries Level 5 `nav-controls` ã®ç´¹ä»‹ã§ã—ãŸã€‚PWA ã‚‰ã—ã„ PWA ã‚’é–‹ç™ºã™ã‚‹ãŠä»•äº‹ãŒä¸–é–“ã«æº¢ã‚Œã¦ã„ã‚‹ã‚ã‘ã§ã¯ãªã„ã®ã§ãŠä¸–è©±ã«ãªã‚‹æ©Ÿä¼šã¯é™ã‚‰ã‚Œã¾ã™ãŒã€é ­ã®ç‰‡éš…ã«ç½®ã„ã¦ãŠãã¨ã‚ˆã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã­ã€‚:)

# é–¢é€£è¨˜äº‹

https://zenn.dev/offers/articles/20230112-control-ui-customization
https://zenn.dev/offers/articles/20230209-scroll-timeline-for-web-animatinos

